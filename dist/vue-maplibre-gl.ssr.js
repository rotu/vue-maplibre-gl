"use strict";var Se=Object.defineProperty;var Ce=(e,o,a)=>o in e?Se(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a;var v=(e,o,a)=>(Ce(e,typeof o!="symbol"?o+"":o,a),a);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),B=require("maplibre-gl"),f=Symbol("map"),g=Symbol("isLoaded"),y=Symbol("componentId"),p=Symbol("sourceId"),b=Symbol("sourceLayerRegistry"),M=Symbol("emitter"),m=t.reactive({style:"https://demotiles.maplibre.org/style.json",center:Object.freeze([0,0]),zoom:1,trackResize:!1});class w{static createEventHandler(o,a,n,r){return(i={})=>n.emit(r,{type:i.type,map:a,component:o,event:i})}}v(w,"MAP_OPTION_KEYS",["antialias","attributionControl","bearing","bearingSnap","bounds","boxZoom","center","clickTolerance","collectResourceTiming","crossSourceCollisions","container","customAttribution","dragPan","dragRotate","doubleClickZoom","hash","fadeDuration","failIfMajorPerformanceCaveat","fitBoundsOptions","interactive","keyboard","locale","localIdeographFontFamily","logoPosition","maxBounds","maxPitch","maxZoom","minPitch","minZoom","preserveDrawingBuffer","pitch","pitchWithRotate","refreshExpiredTiles","renderWorldCopies","scrollZoom","mapStyle","trackResize","transformRequest","touchZoomRotate","touchPitch","zoom","maxTileCacheSize","accessToken"]),v(w,"MARKER_OPTION_KEYS",["element","offset","anchor","color","draggable","clickTolerance","rotation","rotationAlignment","pitchAlignment","scale"]),v(w,"MAP_EVENT_TYPES",["error","load","idle","remove","render","resize","webglcontextlost","webglcontextrestored","dataloading","data","tiledataloading","sourcedataloading","styledataloading","sourcedata","styledata","boxzoomcancel","boxzoomstart","boxzoomend","touchcancel","touchmove","touchend","touchstart","click","contextmenu","dblclick","mousemove","mouseup","mousedown","mouseout","mouseover","movestart","move","moveend","zoomstart","zoom","zoomend","rotatestart","rotate","rotateend","dragstart","drag","dragend","pitchstart","pitch","pitchend","wheel"]);var O=(e=>(e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e))(O||{});const x=Object.values(O);function j(e,o,a){t.watch(e,n=>{n&&x.indexOf(n)===-1||(o.value.hasControl(a)&&o.value.removeControl(a),o.value.addControl(a,n))},{immediate:!0})}function we(e){return{all:e=e||new Map,on:function(o,a){var n=e.get(o);n?n.push(a):e.set(o,[a])},off:function(o,a){var n=e.get(o);n&&(a?n.splice(n.indexOf(a)>>>0,1):e.set(o,[]))},emit:function(o,a){var n=e.get(o);n&&n.slice().map(function(r){r(a)}),(n=e.get("*"))&&n.slice().map(function(r){r(o,a)})}}}const F=new Map,q=Symbol("default");function Me(e=q){let o=F.get(e);return o||(o=t.reactive({isLoaded:!1,isMounted:!1}),F.set(e,o)),o}function Le(e,o=q){var n;let a=F.get(o);return a||(a=t.reactive({isLoaded:!1,isMounted:!1}),F.set(o,a)),a.isLoaded=!1,a.isMounted=!1,a.component=e,a.map=e.map,a.isLoaded=((n=e.map)==null?void 0:n.loaded())||!1,a}function Oe(e,o=250,a=!1){let n;function r(){const i=arguments,l=()=>{n=void 0,a!==!0&&e.apply(this,i)};clearTimeout(n),a===!0&&n===void 0&&e.apply(this,i),n=window.setTimeout(l,o)}return r.cancel=()=>{clearTimeout(n)},r}const D=t.defineComponent({name:"MglMap",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},antialias:{type:Boolean,default:()=>m.antialias},attributionControl:{type:Boolean,default:()=>m.attributionControl},bearing:{type:Number,default:()=>m.bearing},bearingSnap:{type:Number,default:()=>m.bearingSnap},bounds:{type:[Array,Object],default:()=>m.bounds},boxZoom:{type:Boolean,default:()=>m.boxZoom},center:{type:[Array,Object],default:()=>m.center},clickTolerance:{type:Number,default:()=>m.clickTolerance},collectResourceTiming:{type:Boolean,default:()=>m.collectResourceTiming},crossSourceCollisions:{type:Boolean,default:()=>m.crossSourceCollisions},customAttribution:{type:[String,Array],default:()=>m.customAttribution},dragPan:{type:Boolean,default:()=>m.dragPan},dragRotate:{type:Boolean,default:()=>m.dragRotate},doubleClickZoom:{type:Boolean,default:()=>m.doubleClickZoom},hash:{type:[Boolean,String],default:()=>m.hash},fadeDuration:{type:Number,default:()=>m.fadeDuration},failIfMajorPerformanceCaveat:{type:Boolean,default:()=>m.failIfMajorPerformanceCaveat},fitBoundsOptions:{type:Object,default:()=>m.fitBoundsOptions},interactive:{type:Boolean,default:()=>m.interactive},keyboard:{type:Boolean,default:()=>m.keyboard},locale:{type:Object,default:()=>m.locale},localIdeographFontFamily:{type:String,default:()=>m.localIdeographFontFamily},logoPosition:{type:[String],validate:e=>e in O,default:()=>m.logoPosition},maxBounds:{type:[Array,Object],default:()=>m.maxBounds},maxPitch:{type:Number,default:()=>m.maxPitch},maxZoom:{type:Number,default:()=>m.maxZoom},minPitch:{type:Number,default:()=>m.minPitch},minZoom:{type:Number,default:()=>m.minZoom},preserveDrawingBuffer:{type:Boolean,default:()=>m.preserveDrawingBuffer},pitch:{type:Number,default:()=>m.pitch},pitchWithRotate:{type:Boolean,default:()=>m.pitchWithRotate},refreshExpiredTiles:{type:Boolean,default:()=>m.refreshExpiredTiles},renderWorldCopies:{type:Boolean,default:()=>m.renderWorldCopies},scrollZoom:{type:Boolean,default:()=>m.scrollZoom},mapStyle:{type:[String,Object],default:()=>m.style},trackResize:{type:Boolean,default:()=>m.trackResize},transformRequest:{type:Function,default:m.transformRequest},touchZoomRotate:{type:Boolean,default:()=>m.touchZoomRotate},touchPitch:{type:Boolean,default:()=>m.touchPitch},zoom:{type:Number,default:()=>m.zoom},maxTileCacheSize:{type:Number,default:()=>m.maxTileCacheSize},accessToken:{type:String,default:()=>m.accessToken},mapKey:{type:[String,Symbol]}},emits:["map:error","map:load","map:idle","map:remove","map:render","map:resize","map:webglcontextlost","map:webglcontextrestored","map:dataloading","map:data","map:tiledataloading","map:sourcedataloading","map:styledataloading","map:sourcedata","map:styledata","map:boxzoomcancel","map:boxzoomstart","map:boxzoomend","map:touchcancel","map:touchmove","map:touchend","map:touchstart","map:click","map:contextmenu","map:dblclick","map:mousemove","map:mouseup","map:mousedown","map:mouseout","map:mouseover","map:movestart","map:move","map:moveend","map:zoomstart","map:zoom","map:zoomend","map:rotatestart","map:rotate","map:rotateend","map:dragstart","map:drag","map:dragend","map:pitchstart","map:pitch","map:pitchend","map:wheel"],setup(e,o){const a=t.markRaw(t.getCurrentInstance()),n=t.shallowRef(null),r=t.shallowRef(null),i=t.shallowRef(null),l=t.ref(!1),d=t.ref(!1),u=new Map,h=we(),L=Le(a,e.mapKey);let A;return t.provide(f,i),t.provide(g,d),t.provide(y,a.uid),t.provide(p,""),t.provide(M,h),t.watch(()=>e.bearing,c=>{var s;c&&((s=i.value)==null||s.setBearing(c))}),t.watch(()=>e.bounds,c=>{var s;c&&((s=i.value)==null||s.fitBounds(c,e.fitBoundsOptions))}),t.watch(()=>e.center,c=>{var s;c&&((s=i.value)==null||s.setCenter(c))}),t.watch(()=>e.maxBounds,c=>{var s;c&&((s=i.value)==null||s.setMaxBounds(c))}),t.watch(()=>e.maxPitch,c=>{var s;c&&((s=i.value)==null||s.setMaxPitch(c))}),t.watch(()=>e.maxZoom,c=>{var s;c&&((s=i.value)==null||s.setMaxZoom(c))}),t.watch(()=>e.minPitch,c=>{var s;c&&((s=i.value)==null||s.setMinPitch(c))}),t.watch(()=>e.minZoom,c=>{var s;c&&((s=i.value)==null||s.setMinZoom(c))}),t.watch(()=>e.pitch,c=>{var s;c&&((s=i.value)==null||s.setPitch(c))}),t.watch(()=>e.renderWorldCopies,c=>{var s;c&&((s=i.value)==null||s.setRenderWorldCopies(c))}),t.watch(()=>e.mapStyle,c=>{var s;c&&((s=i.value)==null||s.setStyle(c))}),t.watch(()=>e.transformRequest,c=>{var s;c&&((s=i.value)==null||s.setTransformRequest(c))}),t.watch(()=>e.zoom,c=>{var s;c&&((s=i.value)==null||s.setZoom(c))}),t.watch(()=>e.zoom,c=>{var s;c&&((s=i.value)==null||s.setZoom(c))}),t.onMounted(()=>{L.isMounted=!0;const c=Object.keys(e).filter(s=>e[s]!==void 0&&w.MAP_OPTION_KEYS.indexOf(s)!==-1).reduce((s,S)=>(s[S==="mapStyle"?"style":S]=t.unref(e[S]),s),{container:r.value});if(i.value=t.markRaw(new B.Map(c)),L.map=i.value,l.value=!0,u.set("__load",()=>(d.value=!0,L.isLoaded=!0)),i.value.on("load",u.get("__load")),a.vnode.props){for(let s=0,S=w.MAP_EVENT_TYPES.length;s<S;s++)if(a.vnode.props["onMap:"+w.MAP_EVENT_TYPES[s]]){const V=w.createEventHandler(a,i.value,o,"map:"+w.MAP_EVENT_TYPES[s]);u.set(w.MAP_EVENT_TYPES[s],V),i.value.on(w.MAP_EVENT_TYPES[s],V)}}A=new ResizeObserver(Oe(i.value.resize.bind(i.value),100)),A.observe(r.value)}),t.onBeforeUnmount(()=>{L.isMounted=!1,L.isLoaded=!1,A&&A.disconnect(),i.value&&u.forEach((c,s)=>{i.value.off(s.startsWith("__")?s.substr(2):s,c)})}),{map:i,componentContainer:n,container:r,isLoaded:d,isInitialized:l}},render(){return t.h("div",{ref:"componentContainer",class:"mgl-container",style:{height:this.$props.height,width:this.$props.width}},[t.h("div",{ref:"container",class:"mgl-wrapper"}),this.isInitialized&&this.$slots.default?this.$slots.default():void 0])}}),G=t.defineComponent({name:"MglAttributionControl",props:{position:{type:String,validator:e=>x.indexOf(e)!==-1},compact:Boolean,customAttribution:[String,Array]},setup(e){const o=t.inject(f),a=new B.AttributionControl({compact:e.compact,customAttribution:e.customAttribution});j(()=>e.position,o,a),t.onBeforeUnmount(()=>o.value.removeControl(a))},render(){}}),E=class{constructor(o,a){v(this,"container");this.isAdded=o,this.container=document.createElement("div"),this.setClasses(a)}getDefaultPosition(){return O.TOP_LEFT}onAdd(){return t.nextTick(()=>this.isAdded.value=!0),this.container}onRemove(){this.isAdded.value=!1,this.container.remove()}setClasses(o){o?(this.container.classList.remove(E.CONTROL_CLASS),this.container.classList.remove(E.CONTROL_GROUP_CLASS)):(this.container.classList.add(E.CONTROL_CLASS),this.container.classList.add(E.CONTROL_GROUP_CLASS))}};let k=E;v(k,"CONTROL_CLASS","maplibregl-ctrl"),v(k,"CONTROL_GROUP_CLASS","maplibregl-ctrl-group");const Y=t.defineComponent({name:"MglCustomControl",props:{position:{type:String,validator:e=>x.indexOf(e)!==-1},noClasses:{type:Boolean,default:!1}},setup(e){const o=t.inject(f),a=t.ref(!1),n=new k(a,e.noClasses);return j(()=>e.position,o,n),t.watch(()=>e.noClasses,r=>n.setClasses(r)),t.onBeforeUnmount(()=>{o.value.removeControl(n)}),{isAdded:a,container:n.container}},render(){return this.isAdded?t.h(t.Teleport,{to:this.container},this.$slots.default?this.$slots.default():void 0):t.createCommentVNode("custom-component")}}),K=t.defineComponent({name:"MglFullscreenControl",props:{position:{type:String,default:O.TOP_RIGHT,validator:e=>x.indexOf(e)!==-1},container:{type:HTMLElement,default:null}},setup(e){const o=t.inject(f),a=new B.FullscreenControl(e.container?{container:e.container}:void 0);j(()=>e.position,o,a),t.onBeforeUnmount(()=>o.value.removeControl(a))},render(){}});class xe{constructor(o="rgba(0,0,0,0.9)",a=4*window.devicePixelRatio,n="#7cf859",r="Monaco, Consolas, Courier, monospace",i=60*window.devicePixelRatio,l=90*window.devicePixelRatio,d=0,u=5*window.devicePixelRatio,h=100*window.devicePixelRatio){v(this,"frames",0);v(this,"totalTime",0);v(this,"totalFrames",0);v(this,"time",null);v(this,"map");v(this,"container");v(this,"readOutput");v(this,"canvas");v(this,"eventHandlers",new Map);this.background=o,this.barWidth=a,this.color=n,this.font=r,this.graphHeight=i,this.graphWidth=l,this.graphTop=d,this.graphRight=u,this.width=h}getDefaultPosition(){return O.TOP_RIGHT}onAdd(o){this.map=o;const a=this.container=document.createElement("div");return a.className="mapboxgl-ctrl mapboxgl-ctrl-fps",a.style.backgroundColor=this.background,a.style.borderRadius="6px",this.readOutput=document.createElement("div"),this.readOutput.style.color=this.color,this.readOutput.style.fontFamily=this.font,this.readOutput.style.padding="0 5px 5px",this.readOutput.style.fontSize="9px",this.readOutput.style.fontWeight="bold",this.readOutput.textContent="Waiting\u2026",this.canvas=document.createElement("canvas"),this.canvas.className="mapboxgl-ctrl-canvas",this.canvas.width=this.width,this.canvas.height=this.graphHeight,this.canvas.style.cssText=`width: ${this.width/window.devicePixelRatio}px; height: ${this.graphHeight/window.devicePixelRatio}px;`,a.appendChild(this.readOutput),a.appendChild(this.canvas),this.eventHandlers.set("movestart",this.onMoveStart.bind(this)),this.eventHandlers.set("moveend",this.onMoveEnd.bind(this)),this.map.on("movestart",this.eventHandlers.get("movestart")),this.map.on("moveend",this.eventHandlers.get("moveend")),this.container}onRemove(){this.map.off("movestart",this.eventHandlers.get("movestart")),this.map.off("moveend",this.eventHandlers.get("moveend")),this.eventHandlers.clear(),this.container.parentNode.removeChild(this.container),this.map=void 0}onMoveStart(){this.frames=0,this.time=performance.now(),this.eventHandlers.set("render",this.onRender.bind(this)),this.map.on("render",this.eventHandlers.get("render"))}onMoveEnd(){const o=performance.now();this.updateGraph(this.getFPS(o)),this.frames=0,this.time=null,this.map.off("render",this.eventHandlers.get("render"))}onRender(){if(this.time){this.frames++;const o=performance.now();o>=this.time+1e3&&(this.updateGraph(this.getFPS(o)),this.frames=0,this.time=performance.now())}}getFPS(o){return this.totalTime+=o-this.time,this.totalFrames+=this.frames,Math.round(1e3*this.frames/(o-this.time))||0}updateGraph(o){const a=this.canvas.getContext("2d"),n=Math.round(1e3*this.totalFrames/this.totalTime)||0,r=(this.graphHeight,this.barWidth);a.fillStyle=this.background,a.globalAlpha=1,a.fillRect(0,0,this.graphWidth,this.graphTop),a.fillStyle=this.color,this.readOutput.textContent=`${o} FPS (${n} Avg)`,a.drawImage(this.canvas,this.graphRight+r,this.graphTop,this.graphWidth-r,this.graphHeight,this.graphRight,this.graphTop,this.graphWidth-r,this.graphHeight),a.fillRect(this.graphRight+this.graphWidth-r,this.graphTop,r,this.graphHeight),a.fillStyle=this.background,a.globalAlpha=.75,a.fillRect(this.graphRight+this.graphWidth-r,this.graphTop,r,(1-o/100)*this.graphHeight)}}const J=t.defineComponent({name:"MglFrameRateControl",props:{position:{type:String,validator:e=>x.indexOf(e)!==-1},background:{type:String,default:"rgba(0,0,0,0.9)"},barWidth:{type:Number,default:4*window.devicePixelRatio},color:{type:String,default:"#7cf859"},font:{type:String,default:"Monaco, Consolas, Courier, monospace"},graphHeight:{type:Number,default:60*window.devicePixelRatio},graphWidth:{type:Number,default:90*window.devicePixelRatio},graphTop:{type:Number,default:0},graphRight:{type:Number,default:5*window.devicePixelRatio},width:{type:Number,default:100*window.devicePixelRatio}},setup(e){const o=t.inject(f),a=new xe(e.background,e.barWidth,e.color,e.font,e.graphHeight,e.graphWidth,e.graphTop,e.graphRight,e.width);j(()=>e.position,o,a),t.onBeforeUnmount(()=>o.value.removeControl(a))},render(){}}),X=t.defineComponent({name:"MglGeolocationControl",props:{position:{type:String,default:O.TOP_RIGHT,validator:e=>x.indexOf(e)!==-1},positionOptions:{type:Object,default:{enableHighAccuracy:!1,timeout:6e3}},fitBoundsOptions:{type:Object,default:{maxZoom:15}},trackUserLocation:{type:Boolean,default:!1},showAccuracyCircle:{type:Boolean,default:!0},showUserLocation:{type:Boolean,default:!0}},setup(e){const o=t.inject(f),a=new B.GeolocateControl({positionOptions:e.positionOptions,fitBoundsOptions:e.fitBoundsOptions,trackUserLocation:e.trackUserLocation,showAccuracyCircle:e.showAccuracyCircle,showUserLocation:e.showUserLocation});j(()=>e.position,o,a),t.onBeforeUnmount(()=>o.value.removeControl(a))},render(){}}),Q=t.defineComponent({name:"MglNavigationControl",props:{position:{type:String,default:O.TOP_RIGHT,validator:e=>x.indexOf(e)!==-1},showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:Boolean},setup(e){const o=t.inject(f),a=new B.NavigationControl({showCompass:e.showCompass,showZoom:e.showZoom,visualizePitch:e.visualizePitch});j(()=>e.position,o,a),t.onBeforeUnmount(()=>o.value.removeControl(a))},render(){}});var ee=(e=>(e.IMPERIAL="imperial",e.METRIC="metric",e.NAUTICAL="nautical",e))(ee||{});const je=Object.values(ee),te=t.defineComponent({name:"MglScaleControl",props:{position:{type:String,validator:e=>x.indexOf(e)!==-1},maxWidth:{type:Number,default:100},unit:{type:String,default:"metric",validator:e=>je.indexOf(e)!==-1}},setup(e){const o=t.inject(f),a=new B.ScaleControl({maxWidth:e.maxWidth,unit:e.unit});j(()=>e.position,o,a),t.onBeforeUnmount(()=>o.value.removeControl(a))},render(){}});var U=(e=>(e.DEFAULT="default",e.TEXT="text",e.MDI="mdi",e.SIMPLE_ICON="simple-icons",e))(U||{});const Re=Object.values(U),H={text:void 0,mdi:{size:21,viewbox:"0 0 24 24"},["simple-icons"]:{size:21,viewbox:"0 0 24 24"},default:{size:0,viewbox:"0 0 0 0"}},Z=t.defineComponent({name:"MglButton",props:{type:{type:String,default:"default",validator:e=>Re.indexOf(e)!==-1},path:{type:String},size:Number,viewbox:String},setup(e){!e.path&&e.type!=="text"&&t.warn("property `path` must be set on MaplibreButton");const o=t.ref(H[e.type]||H.default);return t.watch(()=>e.type,a=>o.value=H[a]||H.default),{defaults:o}},render(){return this.type==="text"?t.h("button",{type:"button"},this.$slots.default?this.$slots.default():void 0):t.h("button",{type:"button",class:"maplibregl-ctrl-icon"},[t.h("svg",{width:this.size||this.defaults.size,height:this.size||this.defaults.size,viewBox:this.viewbox||this.defaults.viewbox},t.h("path",{fill:"currentColor",d:this.path})),this.$slots.default?this.$slots.default():void 0])}});var Ie="M12,18.54L19.37,12.8L21,14.07L12,21.07L3,14.07L4.62,12.81L12,18.54M12,16L3,9L12,2L21,9L12,16M12,4.53L6.26,9L12,13.47L17.74,9L12,4.53Z";function $(e){return e&&!!e.stopPropagation}const oe=t.defineComponent({name:"MglStyleSwitchControl",props:{position:{type:String,validator:e=>x.indexOf(e)!==-1},mapStyles:{type:Array,required:!0,default:[]},modelValue:{type:Object},isOpen:{type:Boolean,default:void 0}},emits:["update:modelValue","update:isOpen"],setup(e,o){const a=t.inject(f),n=t.inject(g),r=t.inject(M),i=t.ref(!1),l=t.ref(e.isOpen===void 0?!1:e.isOpen),d=t.ref(e.modelValue===void 0?e.mapStyles.length?e.mapStyles[0]:null:e.modelValue),u=new k(i,!1),h=c.bind(null,!1);function L(){const s=a.value.getStyle().name;for(let S=0,V=e.mapStyles.length;S<V;S++)if(e.mapStyles[S].name===s){A(e.mapStyles[S]);break}}t.watch(n,s=>{s&&L()},{immediate:!0}),a.value.on("style.load",L),document.addEventListener("click",h),j(()=>e.position,a,u),e.modelValue!==void 0&&t.watch(()=>e.modelValue,s=>{s!==void 0&&(d.value=s)}),e.isOpen!==void 0&&t.watch(()=>e.isOpen,s=>{s!==void 0&&(l.value=s)}),t.onBeforeUnmount(()=>{a.value.removeControl(u),a.value.off("style.load",L),document.removeEventListener("click",h)});function A(s){var S;((S=d.value)==null?void 0:S.name)!==s.name&&(r.emit("styleSwitched",s),a.value.setStyle(s.style),e.modelValue===void 0&&(d.value=s),o.emit("update:modelValue",s),c(!1))}function c(s,S){$(S)?S.stopPropagation():$(s)&&s.stopPropagation(),!(e.isOpen!==void 0&&e.isOpen===s||l.value===s)&&(e.isOpen===void 0?(l.value=typeof s=="boolean"?s:!l.value,o.emit("update:isOpen",l.value)):o.emit("update:isOpen",typeof s=="boolean"?s:!e.isOpen))}return{isAdded:i,container:u.container,setStyle:A,toggleOpen:c,intIsOpen:l,intModelValue:d}},template:`
		<div class="maplibregl-ctrl maplibregl-ctrl-group">
		<slot>
			<slot name="button">
				<button type="button" class="maplibregl-ctrl-icon maplibregl-style-switch"></button>
			</slot>
			<slot name="styleList">
				<div class="maplibregl-style-list" style="display: none;">
					<button type="button" class="Dark" data-uri="&quot;mapbox://styles/mapbox/dark-v10&quot;">Dark</button>
					<button type="button" class="Light" data-uri="&quot;mapbox://styles/mapbox/light-v10&quot;">Light</button>
					<button type="button" class="Outdoors" data-uri="&quot;mapbox://styles/mapbox/outdoors-v11&quot;">Outdoors</button>
					<button type="button" class="Satellite" data-uri="&quot;mapbox://styles/mapbox/satellite-streets-v11&quot;">Satellite</button>
					<button type="button" class="Streets active" data-uri="&quot;mapbox://styles/mapbox/streets-v11&quot;">Streets</button>
				</div>
			</slot>
		</slot>
		</div>
	`,render(){if(!this.isAdded)return t.createCommentVNode("style-switch-control");const e={isOpen:this.intIsOpen,currentStyle:this.intModelValue,mapStyles:this.mapStyles,toggleOpen:this.toggleOpen,setStyle:this.setStyle};return t.h(t.Teleport,{to:this.container},t.renderSlot(this.$slots,"default",e,()=>[t.renderSlot(this.$slots,"button",e,()=>[t.h(Z,{type:U.MDI,path:Ie,class:["maplibregl-ctrl-icon maplibregl-style-switch",this.intIsOpen?"is-open":""],onClick:this.toggleOpen.bind(null,!0)})]),t.renderSlot(this.$slots,"styleList",e,()=>[t.h("div",{class:["maplibregl-style-list",this.intIsOpen?"is-open":""]},this.mapStyles.map(o=>{var a,n;return o.icon?t.h(Z,{type:U.MDI,path:o.icon.path,class:((a=this.intModelValue)==null?void 0:a.name)===o.name?"is-active":"",onClick:()=>this.setStyle(o)},t.createTextVNode(o.label)):t.h("button",{type:"button",class:((n=this.intModelValue)==null?void 0:n.name)===o.name?"is-active":"",onClick:()=>this.setStyle(o)},t.createTextVNode(o.label))}))])]))}}),ae=t.defineComponent({name:"MglMarker",props:{coordinates:{type:[Object,Array],required:!0},offset:[Object,Array],anchor:String,color:String,clickTolerance:Number,rotation:Number,rotationAlignment:String,pitchAlignment:String,scale:Number},setup(e){const o=t.inject(f),a=Object.keys(e).filter(r=>e[r]!==void 0&&w.MARKER_OPTION_KEYS.indexOf(r)!==-1).reduce((r,i)=>(r[i]=t.unref(e[i]),r),{}),n=new B.Marker(a);return n.setLngLat(e.coordinates).addTo(o.value),t.watch(()=>e.coordinates,r=>n.setLngLat(r)),t.watch(()=>e.offset,r=>n.setOffset(r||[0,0])),t.watch(()=>e.pitchAlignment,r=>n.setPitchAlignment(r||"auto")),t.watch(()=>e.rotationAlignment,r=>n.setRotationAlignment(r||"auto")),t.onBeforeUnmount(n.remove.bind(n)),{marker:n}},render(){}});function Te(e,o,a){return Object.keys(o).filter(n=>o[n]!==void 0&&a.indexOf(n)!==-1).reduce((n,r)=>(n[r]=t.unref(o[r]),n),{type:e})}const W=new Map;function C(e,o){const a=typeof o=="string",n=String(e)+(a?o:"");let r=W.get(n);return r||(r=t.ref(a?null:void 0),W.set(n,r)),r}function _(e,o,a,n,r,i,l,d){function u(){a.value&&(e.value.addSource(r.sourceId,Te(i,r,l)),o.value=e.value.getSource(r.sourceId))}function h(){o.value=null}return t.watch(a,u,{immediate:!0}),e.value.on("style.load",u),n.on("styleSwitched",h),t.onBeforeUnmount(()=>{a.value&&(d.unmount(),e.value.removeSource(r.sourceId)),e.value.off("style.load",u),n.off("styleSwitched",h)})}class z{constructor(){v(this,"unmountHandlers",new Map)}registerUnmountHandler(o,a){this.unmountHandlers.set(o,a)}unregisterUnmountHandler(o){this.unmountHandlers.delete(o)}unmount(){this.unmountHandlers.forEach(o=>o())}}const Pe=["animate","coordinates","canvas"],ne=t.defineComponent({name:"MglCanvasSource",props:{sourceId:{type:String,required:!0},coordinates:Array,animate:Boolean,canvas:[HTMLCanvasElement,String]},setup(e){const o=t.inject(f),a=t.inject(g),n=t.inject(M),r=t.inject(y),i=C(r,e.sourceId),l=new z;return t.provide(p,e.sourceId),t.provide(b,l),_(o,i,a,n,e,"canvas",Pe,l),t.watch(()=>e.coordinates,d=>{var u;return(u=i.value)==null?void 0:u.setCoordinates(d||[])}),{source:i}},render(){return[t.createCommentVNode("Canvas Source"),this.source&&this.$slots.default?this.$slots.default():void 0]}}),Ne=["data","maxzoom","attribution","buffer","tolerance","cluster","clusterRadius","clusterMaxZoom","clusterMinPoints","clusterProperties","lineMetrics","generateId","promoteId","filter"],re=t.defineComponent({name:"MglGeoJsonSource",props:{sourceId:{type:String,required:!0},data:[Object,String],maxzoom:Number,attribution:String,buffer:Number,tolerance:Number,cluster:[Number,Boolean],clusterRadius:Number,clusterMaxZoom:Number,clusterMinPoints:Number,clusterProperties:Object,lineMetrics:Boolean,generateId:Boolean,promoteId:Object,filter:[Array,String,Object]},setup(e){const o=t.inject(f),a=t.inject(g),n=t.inject(M),r=t.inject(y),i=C(r,e.sourceId),l=new z;return t.provide(p,e.sourceId),t.provide(b,l),_(o,i,a,n,e,"geojson",Ne,l),t.watch(t.isRef(e.data)?e.data:()=>e.data,d=>{var u;return(u=i.value)==null?void 0:u.setData(d||{type:"FeatureCollection",features:[]})}),{source:i}},render(){return[t.createCommentVNode("GeoJSON Source"),this.source&&this.$slots.default?this.$slots.default():void 0]}}),Ae=["url","coordinates"],ie=t.defineComponent({name:"MglImageSource",props:{sourceId:{type:String,required:!0},url:String,coordinates:Array},setup(e){const o=t.inject(f),a=t.inject(g),n=t.inject(M),r=t.inject(y),i=C(r,e.sourceId),l=new z;return t.provide(p,e.sourceId),t.provide(b,l),_(o,i,a,n,e,"image",Ae,l),t.watch(()=>e.coordinates,d=>{var u;return(u=i.value)==null?void 0:u.setCoordinates(d||[])}),{source:i}},render(){return[t.createCommentVNode("Image Source"),this.source&&this.$slots.default?this.$slots.default():void 0]}}),Be=["url","tiles","bounds","minzoom","maxzoom","tileSize","scheme","attribution"],se=t.defineComponent({name:"MglRasterSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,minzoom:Number,maxzoom:Number,tileSize:Number,scheme:String,attribution:String},setup(e){const o=t.inject(f),a=t.inject(g),n=t.inject(M),r=t.inject(y),i=C(r,e.sourceId),l=new z;return t.provide(p,e.sourceId),t.provide(b,l),_(o,i,a,n,e,"raster",Be,l),{source:i}},render(){return t.createCommentVNode("Video Source")}}),_e=["url","tiles","bounds","minzoom","maxzoom","tileSize","attribution","encoding"],le=t.defineComponent({name:"MglRasterDemSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,minzoom:Number,maxzoom:Number,tileSize:Number,attribution:String,encoding:String},setup(e){const o=t.inject(f),a=t.inject(g),n=t.inject(M),r=t.inject(y),i=C(r,e.sourceId),l=new z;return t.provide(p,e.sourceId),t.provide(b,l),_(o,i,a,n,e,"raster-dem",_e,l),{source:i}},render(){return t.createCommentVNode("Video Source")}}),ze=["url","tiles","bounds","scheme","minzoom","maxzoom","attribution","promoteId"],ue=t.defineComponent({name:"MglVectorSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,scheme:String,minzoom:Number,maxzoom:Number,attribution:String,promoteId:Object},setup(e){const o=t.inject(f),a=t.inject(g),n=t.inject(M),r=t.inject(y),i=C(r,e.sourceId),l=new z;return t.provide(p,e.sourceId),t.provide(b,l),_(o,i,a,n,e,"vector",ze,l),t.watch(()=>e.tiles,d=>{var u;return(u=i.value)==null?void 0:u.setTiles(d||[])}),t.watch(()=>e.url,d=>{var u;return(u=i.value)==null?void 0:u.setUrl(d||"")}),{source:i}},render(){return t.createCommentVNode("Vector Source")}}),ke=["urls","coordinates"],ce=t.defineComponent({name:"MglVideoSource",props:{sourceId:{type:String,required:!0},urls:Array,coordinates:Array},setup(e){const o=t.inject(f),a=t.inject(g),n=t.inject(M),r=t.inject(y),i=C(r,e.sourceId),l=new z;return t.provide(p,e.sourceId),t.provide(b,l),_(o,i,a,n,e,"video",ke,l),t.watch(()=>e.coordinates,d=>{var u;return(u=i.value)==null?void 0:u.setCoordinates(d||[])}),{source:i}},render(){return t.createCommentVNode("Video Source")}}),Ee=["metadata","ref","source","sourceLayer","minzoom","maxzoom","interactive","filter","layout","paint"],T=["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover","mouseout","contextmenu","touchstart","touchend","touchcancel"],R=t.defineComponent({props:{layerId:{type:String,required:!0},source:[String,Object],metadata:[Object,Array,String,Number],ref:String,sourceLayer:String,minzoom:Number,maxzoom:Number,interactive:Boolean,filter:Array,before:String},emit:["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover","mouseout","contextmenu","touchstart","touchend","touchcancel"]});function I(e,o,a,n){return Object.keys(a).filter(r=>a[r]!==void 0&&Ee.indexOf(r)!==-1).reduce((r,i)=>(r[i==="sourceLayer"?"source-layer":i]=t.unref(a[i]),r),{type:o,source:a.source||n,id:e})}function P(e,o,a){if(!!a.props)for(let n=0,r=T.length;n<r;n++){const i="on"+T[n].charAt(0).toUpperCase()+T[n].substr(1);a.props[i]&&e.on(T[n],o,a.props[i])}}function Ve(e,o,a){if(!!a.props)for(let n=0,r=T.length;n<r;n++){const i="on"+T[n].charAt(0).toUpperCase()+T[n].substr(1);a.props[i]&&e.off(T[n],o,a.props[i])}}function N(e,o,a,n,r){function i(){e.value&&(Ve(o.value,n.layerId,a.vnode),o.value.getLayer(n.layerId)&&o.value.removeLayer(n.layerId))}r.registerUnmountHandler(n.layerId,i),t.onBeforeUnmount(()=>{r.unregisterUnmountHandler(n.layerId),i()})}const de=t.defineComponent({name:"MglBackgroundLayer",mixins:[R],props:{layout:Object,paint:Object},setup(e){const o=t.inject(p);if(!o&&!e.source){t.warn("Background Layer: layer must be used inside source tag or source prop must be set");return}const a=t.inject(f),n=t.inject(g),r=t.inject(y),i=t.inject(b),l=C(r,e.source||o);t.watch([n,l],([u,h])=>{u&&(h||h===void 0)&&a.value.addLayer(I(e.layerId,"background",e,o),e.before||void 0)},{immediate:!0});function d(){n.value&&a.value.removeLayer(e.layerId)}i.registerUnmountHandler(e.layerId,d),t.onBeforeUnmount(()=>{d()})},render(){return t.createCommentVNode("Background Layer")}}),me=t.defineComponent({name:"MglCircleLayer",mixins:[R],props:{layout:Object,paint:Object},setup(e){const o=t.inject(p);if(!o&&!e.source){t.warn("Circle Layer: layer must be used inside source tag or source prop must be set");return}const a=t.getCurrentInstance(),n=t.inject(f),r=t.inject(g),i=t.inject(y),l=t.inject(b),d=C(i,e.source||o);t.watch([r,d],([u,h])=>{u&&(h||h===void 0)&&(n.value.addLayer(I(e.layerId,"circle",e,o),e.before||void 0),P(n.value,e.layerId,a.vnode))},{immediate:!0}),N(r,n,a,e,l)},render(){return t.createCommentVNode("Circle Layer")}}),he=t.defineComponent({name:"MglFillLayer",mixins:[R],props:{layout:Object,paint:Object},setup(e){const o=t.inject(p);if(!o&&!e.source){t.warn("Fill Layer: layer must be used inside source tag or source prop must be set");return}const a=t.getCurrentInstance(),n=t.inject(f),r=t.inject(g),i=t.inject(y),l=t.inject(b),d=C(i,e.source||o);t.watch([r,d],([u,h])=>{u&&(h||h===void 0)&&(n.value.addLayer(I(e.layerId,"fill",e,o),e.before||void 0),P(n.value,e.layerId,a.vnode))},{immediate:!0}),N(r,n,a,e,l)},render(){return t.createCommentVNode("Fill Layer")}}),fe=t.defineComponent({name:"MglFillExtrusionLayer",mixins:[R],props:{layout:Object,paint:Object},setup(e){const o=t.inject(p);if(!o&&!e.source){t.warn("Fill Extrude Layer: layer must be used inside source tag or source prop must be set");return}const a=t.getCurrentInstance(),n=t.inject(f),r=t.inject(g),i=t.inject(y),l=t.inject(b),d=C(i,e.source||o);t.watch([r,d],([u,h])=>{u&&(h||h===void 0)&&(n.value.addLayer(I(e.layerId,"fill-extrusion",e,o),e.before||void 0),P(n.value,e.layerId,a.vnode))},{immediate:!0}),N(r,n,a,e,l)},render(){return t.createCommentVNode("Fill Extrusion Layer")}}),ge=t.defineComponent({name:"MglHeatmapLayer",mixins:[R],props:{layout:Object,paint:Object},setup(e){const o=t.inject(p);if(!o&&!e.source){t.warn("Heatmap Layer: layer must be used inside source tag or source prop must be set");return}const a=t.getCurrentInstance(),n=t.inject(f),r=t.inject(g),i=t.inject(y),l=t.inject(b),d=C(i,e.source||o);t.watch([r,d],([u,h])=>{u&&(h||h===void 0)&&(n.value.addLayer(I(e.layerId,"heatmap",e,o),e.before||void 0),P(n.value,e.layerId,a.vnode))},{immediate:!0}),N(r,n,a,e,l)},render(){return t.createCommentVNode("Heatmap Layer")}}),ye=t.defineComponent({name:"MglHillshadeLayer",mixins:[R],props:{layout:Object,paint:Object},setup(e){const o=t.inject(p);if(!o&&!e.source){t.warn("Hillshade Layer: layer must be used inside source tag or source prop must be set");return}const a=t.getCurrentInstance(),n=t.inject(f),r=t.inject(g),i=t.inject(y),l=t.inject(b),d=C(i,e.source||o);t.watch([r,d],([u,h])=>{u&&(h||h===void 0)&&(n.value.addLayer(I(e.layerId,"hillshade",e,o),e.before||void 0),P(n.value,e.layerId,a.vnode))},{immediate:!0}),N(r,n,a,e,l)},render(){return t.createCommentVNode("Hillshade Layer")}}),pe=t.defineComponent({name:"MglLineLayer",mixins:[R],props:{layout:Object,paint:Object},setup(e){const o=t.inject(p);if(!o&&!e.source){t.warn("Line Layer: layer must be used inside source tag or source prop must be set");return}const a=t.getCurrentInstance(),n=t.inject(f),r=t.inject(g),i=t.inject(y),l=t.inject(b),d=C(i,e.source||o);t.watch([r,d],([u,h])=>{u&&(h||h===void 0)&&(n.value.addLayer(I(e.layerId,"line",e,o),e.before||void 0),P(n.value,e.layerId,a.vnode))},{immediate:!0}),N(r,n,a,e,l)},render(){return t.createCommentVNode("Line Layer")}}),ve=t.defineComponent({name:"MglRasterLayer",mixins:[R],props:{layout:Object,paint:Object},setup(e){const o=t.inject(p);if(!o&&!e.source){t.warn("Raster Layer: layer must be used inside source tag or source prop must be set");return}const a=t.getCurrentInstance(),n=t.inject(f),r=t.inject(g),i=t.inject(y),l=t.inject(b),d=C(i,e.source||o);t.watch([r,d],([u,h])=>{u&&(h||h===void 0)&&(n.value.addLayer(I(e.layerId,"raster",e,o),e.before||void 0),P(n.value,e.layerId,a.vnode))},{immediate:!0}),N(r,n,a,e,l)},render(){return t.createCommentVNode("Raster Layer")}}),be=t.defineComponent({name:"MglSymbolLayer",mixins:[R],props:{layout:Object,paint:Object},setup(e){const o=t.inject(p);if(!o&&!e.source){t.warn("Symbol Layer: layer must be used inside source tag or source prop must be set");return}const a=t.getCurrentInstance(),n=t.inject(f),r=t.inject(g),i=t.inject(y),l=t.inject(b),d=C(i,e.source||o);t.watch([r,d],([u,h])=>{u&&(h||h===void 0)&&(n.value.addLayer(I(e.layerId,"symbol",e,o),e.before||void 0),P(n.value,e.layerId,a.vnode))},{immediate:!0}),N(r,n,a,e,l)},render(){return t.createCommentVNode("Symbol Layer")}}),He=Object.freeze(Object.defineProperty({__proto__:null,MglMap:D,MglAttributionControl:G,MglCustomControl:Y,MglFullscreenControl:K,MglFrameRateControl:J,MglGeolocationControl:X,MglNavigationControl:Q,MglScaleControl:te,MglStyleSwitchControl:oe,MglButton:Z,MglMarker:ae,MglCanvasSource:ne,MglGeoJsonSource:re,MglImageSource:ie,MglRasterSource:se,MglRasterDemSource:le,MglVectorSource:ue,MglVideoSource:ce,MglBackgroundLayer:de,MglCircleLayer:me,MglFillLayer:he,MglFillExtrusionLayer:fe,MglHeatmapLayer:ge,MglHillshadeLayer:ye,MglLineLayer:pe,MglRasterLayer:ve,MglSymbolLayer:be},Symbol.toStringTag,{value:"Module"}));function Fe(e){Object.entries(He).forEach(([o,a])=>{e.component(o,a)})}const Ue=module.exports;exports.MglAttributionControl=G;exports.MglBackgroundLayer=de;exports.MglButton=Z;exports.MglCanvasSource=ne;exports.MglCircleLayer=me;exports.MglCustomControl=Y;exports.MglDefaults=m;exports.MglFillExtrusionLayer=fe;exports.MglFillLayer=he;exports.MglFrameRateControl=J;exports.MglFullscreenControl=K;exports.MglGeoJsonSource=re;exports.MglGeolocationControl=X;exports.MglHeatmapLayer=ge;exports.MglHillshadeLayer=ye;exports.MglImageSource=ie;exports.MglLineLayer=pe;exports.MglMap=D;exports.MglMarker=ae;exports.MglNavigationControl=Q;exports.MglRasterDemSource=le;exports.MglRasterLayer=ve;exports.MglRasterSource=se;exports.MglScaleControl=te;exports.MglStyleSwitchControl=oe;exports.MglSymbolLayer=be;exports.MglVectorSource=ue;exports.MglVideoSource=ce;exports.Position=O;exports.componentIdSymbol=y;exports.default=Ue;exports.emitterSymbol=M;exports.install=Fe;exports.isLoadedSymbol=g;exports.mapSymbol=f;exports.sourceIdSymbol=p;exports.sourceLayerRegistry=b;exports.useMap=Me;exports.usePositionWatcher=j;
//# sourceMappingURL=vue-maplibre-gl.ssr.js.map
